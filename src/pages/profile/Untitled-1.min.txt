import{Q as g}from"./QBadge.0db08aba.js";import{Q as B}from"./QMarkupTable.dda41383.js";import{Q as h,a as _}from"./QCard.d48de83c.js";import{Q as P}from"./QSeparator.59ec2285.js";import{Q as n}from"./QBtn.c8dc1353.js";import{Q as v}from"./QSpace.4c3597de.js";import{Q as y}from"./QCardActions.c1494cc6.js";import{Q as b}from"./QInput.535c46a4.js";import{Q as q}from"./QDialog.ce2fe3b6.js";import{C as U}from"./ClosePopup.01543da3.js";import{s as V,o as r,E as i,a as e,w as t,D as l,G as D,a6 as O,B as d,a5 as m,ad as T,A,I as x,F as w,c as C}from"./index.c3ffdb5c.js";import{u as M}from"./profile.10aa7d7a.js";import{T as N}from"./TitleBar.b1823e96.js";import{$ as p}from"./validations.eb7d797a.js";import"./render.54912002.js";import"./use-dark.d60f966f.js";import"./QIcon.4f3575bf.js";import"./dom.37ddef9e.js";import"./scroll.80599765.js";import"./plugin-vue_export-helper.21dcd24c.js";const I={class:"q-pa-md"},R={key:0},$={key:1},E={key:2},F=["onSubmit"],L=l("div",{class:"text-h6"},"Change Password",-1),j={class:"column q-gutter-md"},G={class:"col"},z={class:"col"},fe={__name:"View",setup(H){const o=V({}),u=V(!1),Q=M();function S(){var c,a;return o.value.OPassword==o.value.Password?(x("danger","Old and new password cannot be same"),!1):(null==(c=o.value.OPassword)?void 0:c.length)<6||(null==(a=o.value.Password)?void 0:a.length)<6?(x("danger","Password must be at least 6 characters"),!1):void Q.updatePassword(o.value).then((function(){o.value={},u.value=!1}))}function k(){o.value={}}return(c,a)=>(r(),i("div",I,[e(h,null,{default:t(()=>[e(_,{class:"my-card column justify-center align-center",style:{"max-width":"440px"}},{default:t(()=>[e(N),e(B,{flat:"",bordered:"",dense:""},{default:t(()=>[l("tbody",null,[(r(!0),i(D,null,O(d(Q).authUser,(s,f)=>(r(),i("tr",null,[l("td",null,w(f.replaceAll("_"," ")),1),"Time"==f?(r(),i("td",R,w(new Date(s).toLocaleString()),1)):"Status"==f?(r(),i("td",$,[s>1?(r(),C(g,{key:0,color:"positive"},{default:t(()=>[m("Active")]),_:1})):(r(),C(g,{key:1,color:"negative"},{default:t(()=>[m("Inactive")]),_:1}))])):"Referer"==f?(r(),i("td",R,w("परिचयकर्ता"),1)):(r(),i("td",E,w(s),1))]))),256))])]),_:1})]),_:1}),e(P),e(y,{class:"q-pa-lg"},{default:t(()=>[e(n,{outline:"",color:"primary",to:"/profile/edit"},{default:t(()=>[m("Update profile")]),_:1}),e(v),e(n,{outline:"",color:"warning",onClick:a[0]||(a[0]=s=>u.value=!0)},{default:t(()=>[m("Change Password")]),_:1})]),_:1})]),_:1}),e(q,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=s=>u.value=s),persistent:""},{default:t(()=>[l("div",null,[l("form",{onSubmit:T(S,["prevent","stop"]),onReset:k},[e(h,{style:{"min-width":"350px"}},{default:t(()=>[e(_,{class:"row item-center"},{default:t(()=>[L,e(v),A(e(n,{icon:"close",flat:"",round:"",dense:""},null,512),[[U]])]),_:1}),e(_,{class:"q-pt-none"},{default:t(()=>[l("div",j,[l("div",G,[e(b,{label:"Current Password *",outlined:"","no-error-icon":"",modelValue:o.value.OPassword,"onUpdate:modelValue":a[1]||(a[1]=s=>o.value.OPassword=s),modelModifiers:{trim:!0},rules:[d(p).required,d(p).text(6,128)]},null,8,["modelValue","rules"])]),l("div",z,[e(b,{label:"New Password *",outlined:"","no-error-icon":"",modelValue:o.value.Password,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value.Password=s),modelModifiers:{trim:!0},rules:[d(p).required,d(p).text(6,128)]},null,8,["modelValue","rules"])])])]),_:1}),e(P),e(y,{class:"text-primary"},{default:t(()=>[e(n,{flat:"",color:"negative",label:"Reset",type:"reset"}),e(v),e(n,{outline:"",color:"positive",label:"Change",type:"submit"})]),_:1})]),_:1})],40,F)])]),_:1},8,["modelValue"])]))}};export{fe as default};